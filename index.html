<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ˜Ÿæ²³è·¨å¹´å€’è®¡æ—¶</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            position: fixed;
            font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
            background: #000000;
            color: #ffffff;
            touch-action: none;
            transition: all 0.5s ease;
        }
        
        /* æ¨ªå±æ¨¡å¼ - ä¿®æ­£æ¯”ä¾‹ */
        .landscape-mode {
            width: 100vh;
            height: 56.25vh; /* 16:9æ¯”ä¾‹è°ƒæ•´ */
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(90deg);
            transform-origin: center;
            background: #000000;
            display: none;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            padding: 0 20px;
        }
        
        /* ç«–å±æ¨¡å¼ */
        .portrait-mode {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        /* æ°´å°æ ·å¼ */
        .watermark {
            position: fixed;
            color: rgba(255, 255, 255, 0.2);
            font-size: 14px;
            z-index: 100;
            pointer-events: none;
            white-space: nowrap;
        }
        
        /* ç«–å±æ°´å°ä½ç½® */
        .portrait-watermark-tr {
            top: 20px;
            right: 20px;
            letter-spacing: 8px;
        }
        
        .portrait-watermark-bl {
            bottom: 20px;
            left: 20px;
            letter-spacing: 8px;
        }
        
        /* æ¨ªå±æ°´å°ä½ç½® */
        .landscape-watermark-top {
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            letter-spacing: 6px;
        }
        
        .landscape-watermark-bottom {
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            letter-spacing: 6px;
        }
        
        /* æ—¶é—´æ˜¾ç¤º */
        .time-display {
            text-align: center;
            margin: 10px 0;
        }
        
        .main-time {
            font-size: 56px;
            font-weight: 700;
            letter-spacing: 3px;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
            line-height: 1.2;
        }
        
        .seconds {
            color: #ff3366;
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        
        /* æ¨ªå±æ—¶é—´æ˜¾ç¤º */
        .landscape-time {
            font-size: 48px;
            margin: 0 20px;
        }
        
        /* æ—¥æœŸæ˜¾ç¤º */
        .date-display {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.6);
            margin: 10px 0;
            letter-spacing: 1px;
        }
        
        /* çŠ¶æ€ä¿¡æ¯ */
        .status-info {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
            margin-top: 15px;
            min-height: 20px;
            line-height: 1.4;
            text-align: center;
            padding: 0 10px;
        }
        
        /* è·ç¦»2026å¹´æ˜¾ç¤º */
        .countdown-text {
            font-size: 18px;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 20px;
            text-align: center;
        }
        
        /* æ¨ªå±å¸ƒå±€å®¹å™¨ */
        .landscape-container {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            height: 100%;
        }
        
        .landscape-left {
            flex: 1;
            text-align: center;
            padding: 0 10px;
        }
        
        .landscape-right {
            flex: 1;
            text-align: center;
            padding: 0 10px;
        }
        
        /* æœ€å10ç§’å…¨å±å€’è®¡æ—¶ */
        .final-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.98);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        
        .final-number {
            font-size: 200px;
            font-weight: 900;
            color: #ff3366;
            text-shadow: 0 0 30px rgba(255, 51, 102, 1),
                         0 0 60px rgba(255, 51, 102, 0.8),
                         0 0 90px rgba(255, 51, 102, 0.6);
            animation: finalPulse 0.5s infinite alternate;
        }
        
        @keyframes finalPulse {
            from { transform: scale(1); }
            to { transform: scale(1.1); }
        }
        
        /* æ§åˆ¶æŒ‰é’® */
        .controls {
            position: fixed;
            bottom: 25px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 200;
        }
        
        .control-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }
        
        .control-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
        }
        
        /* è§†é¢‘å®¹å™¨ */
        .video-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 2000;
            display: none;
        }
        
        .video-container video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* è°¢è°¢è§‚çœ‹é¡µé¢ */
        .thanks-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 3000;
        }
        
        .thanks-text {
            font-size: 48px;
            color: #fff;
            text-align: center;
            animation: fadeInOut 3s forwards;
        }
        
        @keyframes fadeInOut {
            0% { opacity: 0; transform: scale(0.8); }
            20% { opacity: 1; transform: scale(1); }
            80% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(1.2); }
        }
        
        /* ç¥ç¦è¯­é¡µé¢ */
        .blessings-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 4000;
        }
        
        .blessing-text {
            font-size: 36px;
            color: #fff;
            text-align: center;
            padding: 20px;
            animation: blessingFade 3s forwards;
        }
        
        @keyframes blessingFade {
            0% { opacity: 0; transform: translateY(30px); }
            20% { opacity: 1; transform: translateY(0); }
            80% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-30px); }
        }
        
        /* ç®€æ´è§†å›¾ */
        .simple-view .portrait-watermark-tr,
        .simple-view .portrait-watermark-bl,
        .simple-view .landscape-watermark-top,
        .simple-view .landscape-watermark-bottom,
        .simple-view .date-display,
        .simple-view .status-info,
        .simple-view .countdown-text {
            display: none;
        }
        
        .simple-view .main-time {
            font-size: 64px;
        }
        
        /* éŸ³ä¹æ§åˆ¶ */
        .music-control {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 100;
        }
        
        .music-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .music-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }
        
        /* æ˜Ÿæ²³æ°´å° */
        .star-river {
            position: fixed;
            bottom: 20px;
            left: 20px;
            color: rgba(255, 255, 255, 0.2);
            font-size: 14px;
            z-index: 100;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <!-- éŸ³ä¹æ§åˆ¶ -->
    <div class="music-control">
        <div class="music-btn" id="musicToggle">â™ª</div>
    </div>
    
    <!-- æ˜Ÿæ²³æ°´å°ï¼ˆæ‰€æœ‰ç•Œé¢å·¦ä¸‹è§’ï¼‰ -->
    <div class="star-river">æ˜Ÿæ²³ â˜…</div>
    
    <!-- ç«–å±æ¨¡å¼ -->
    <div class="portrait-mode" id="portraitMode">
        <div class="countdown-text" id="countdownTitle">è·ç¦»2026è¿˜æœ‰</div>
        <div class="time-display">
            <div class="main-time" id="mainTime">
                <span id="hours">00</span>:<span id="minutes">00</span>:<span id="seconds" class="seconds">00</span>
            </div>
        </div>
        <div class="date-display" id="dateDisplay">2025å¹´12æœˆ31æ—¥ æ˜ŸæœŸä¸‰</div>
        <div class="status-info" id="statusInfo">è·¨å¹´å€’è®¡æ—¶è¿›è¡Œä¸­...</div>
    </div>
    
    <!-- æ¨ªå±æ¨¡å¼ -->
    <div class="landscape-mode" id="landscapeMode">
        <div class="landscape-container">
            <div class="landscape-left">
                <div class="countdown-text">è·ç¦»2026è¿˜æœ‰</div>
                <div class="landscape-time" id="landscapeTime">
                    <span id="landscapeHours">00</span>:<span id="landscapeMinutes">00</span>:<span id="landscapeSeconds" class="seconds">00</span>
                </div>
            </div>
            <div class="landscape-right">
                <div class="date-display">2025å¹´12æœˆ31æ—¥</div>
                <div class="status-info">è·¨å¹´å€’è®¡æ—¶</div>
            </div>
        </div>
    </div>
    
    <!-- æœ€å10ç§’å€’è®¡æ—¶ -->
    <div class="final-screen" id="finalScreen">
        <div class="final-number" id="finalNumber">10</div>
    </div>
    
    <!-- è§†é¢‘æ’­æ”¾ -->
    <div class="video-container" id="videoContainer">
        <!-- è§†é¢‘å°†åœ¨JavaScriptä¸­åŠ¨æ€åŠ è½½ -->
    </div>
    
    <!-- è°¢è°¢è§‚çœ‹ -->
    <div class="thanks-screen" id="thanksScreen">
        <div class="thanks-text">è°¢è°¢è§‚çœ‹</div>
    </div>
    
    <!-- ç¥ç¦è¯­ -->
    <div class="blessings-screen" id="blessingsScreen">
        <div class="blessing-text" id="blessingText">ç¥ç¦è¯­åŠ è½½ä¸­...</div>
    </div>
    
    <!-- æ§åˆ¶æŒ‰é’® -->
    <div class="controls">
        <button class="control-btn" id="toggleView">åˆ‡æ¢è§†å›¾</button>
        <button class="control-btn" id="toggleOrientation">åˆ‡æ¢æ¨ªç«–å±</button>
    </div>
    
    <!-- èƒŒæ™¯éŸ³ä¹ -->
    <audio id="backgroundMusic" loop>
        <source src="./M500004D7rhs4dNgN8.mp3" type="audio/mpeg">
    </audio>

    <script>
        // å…¨å±€å˜é‡
        let targetDate = new Date('2025-12-31T23:59:59');
        let countdownInterval;
        let isLandscape = false;
        let isSimpleView = false;
        let isMusicPlaying = true;
        let finalCountdownStarted = false;
        let videoPlayed = false;
        
        // DOMå…ƒç´ 
        const portraitMode = document.getElementById('portraitMode');
        const landscapeMode = document.getElementById('landscapeMode');
        const mainTime = document.getElementById('mainTime');
        const landscapeTime = document.getElementById('landscapeTime');
        const finalScreen = document.getElementById('finalScreen');
        const finalNumber = document.getElementById('finalNumber');
        const videoContainer = document.getElementById('videoContainer');
        const thanksScreen = document.getElementById('thanksScreen');
        const blessingsScreen = document.getElementById('blessingsScreen');
        const blessingText = document.getElementById('blessingText');
        const backgroundMusic = document.getElementById('backgroundMusic');
        const musicToggle = document.getElementById('musicToggle');
        
        // ç¥ç¦è¯­åˆ—è¡¨
        const blessings = [
            "âœ¨ æ„¿æ–°å¹´ï¼Œèƒœæ—§å¹´ï¼Œä¸‡äº‹çš†å¦‚æ„¿",
            "ğŸ‰ çƒŸç«å‘æ˜Ÿè¾°ï¼Œæ‰€æ„¿çš†æˆçœŸ",
            "ğŸŒŸ å¹³å®‰å–œä¹ï¼Œä¸‡äº‹é¡ºé‚",
            "ğŸ’« å²å²å¸¸æ¬¢æ„‰ï¼Œå¹´å¹´çš†èƒœæ„",
            "ğŸŠ å®¶äººé—²åï¼Œç¯ç«å¯äº²",
            "â¤ï¸ æ‰€é‡çš†æ¸©æŸ”ï¼Œæ‰€å¾—çš†æ‰€æ„¿",
            "ğŸŒˆ å‰ç¨‹ä¼¼é”¦ï¼Œæœªæ¥å¯æœŸ",
            "ğŸ€ å¿ƒæƒ³äº‹æˆï¼Œå¥½è¿è¿è¿",
            "ğŸ èº«ä½“å¥åº·ï¼Œä¸‡äº‹å¦‚æ„",
            "ğŸ•Šï¸ å²æœˆé™å¥½ï¼Œæ¸©æš–å¦‚åˆ"
        ];
        
        // åˆå§‹åŒ–
        function init() {
            updateDateTime();
            checkOrientation();
            startCountdown();
            setupEventListeners();
            playBackgroundMusic();
            
            // ç›‘å¬æ¨ªç«–å±å˜åŒ–
            window.addEventListener('resize', checkOrientation);
            window.addEventListener('orientationchange', checkOrientation);
        }
        
        // æ›´æ–°æ—¥æœŸæ—¶é—´æ˜¾ç¤º
        function updateDateTime() {
            const now = new Date();
            const dateStr = now.toLocaleDateString('zh-CN', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                weekday: 'long'
            });
            document.getElementById('dateDisplay').textContent = dateStr;
        }
        
        // æ£€æŸ¥å±å¹•æ–¹å‘
        function checkOrientation() {
            const isLandscapeMode = window.innerWidth > window.innerHeight;
            
            if (isLandscapeMode !== isLandscape) {
                isLandscape = isLandscapeMode;
                
                if (isLandscape) {
                    portraitMode.style.display = 'none';
                    landscapeMode.style.display = 'flex';
                } else {
                    portraitMode.style.display = 'flex';
                    landscapeMode.style.display = 'none';
                }
            }
        }
        
        // å¼€å§‹å€’è®¡æ—¶
        function startCountdown() {
            clearInterval(countdownInterval);
            
            countdownInterval = setInterval(() => {
                const now = new Date();
                const timeLeft = targetDate - now;
                
                if (timeLeft <= 0) {
                    clearInterval(countdownInterval);
                    showNewYear();
                    return;
                }
                
                // æ£€æŸ¥æ˜¯å¦è¿›å…¥æœ€å10ç§’
                if (timeLeft <= 10000 && !finalCountdownStarted) {
                    startFinalCountdown();
                }
                
                // æ£€æŸ¥æ˜¯å¦åˆ°è¾¾23:59:57ï¼ˆæœ€å3ç§’ï¼‰
                if (now.getHours() === 23 && now.getMinutes() === 59 && now.getSeconds() >= 57 && !videoPlayed) {
                    playVideo();
                }
                
                updateCountdownDisplay(timeLeft);
            }, 100);
        }
        
        // æ›´æ–°å€’è®¡æ—¶æ˜¾ç¤º
        function updateCountdownDisplay(timeLeft) {
            const totalSeconds = Math.floor(timeLeft / 1000);
            const hours = Math.floor(totalSeconds / 3600);
            const minutes = Math.floor((totalSeconds % 3600) / 60);
            const seconds = totalSeconds % 60;
            
            // æ ¼å¼åŒ–æ˜¾ç¤º
            const formatTime = (num) => num.toString().padStart(2, '0');
            
            // æ›´æ–°ç«–å±æ˜¾ç¤º
            document.getElementById('hours').textContent = formatTime(hours);
            document.getElementById('minutes').textContent = formatTime(minutes);
            document.getElementById('seconds').textContent = formatTime(seconds);
            
            // æ›´æ–°æ¨ªå±æ˜¾ç¤º
            document.getElementById('landscapeHours').textContent = formatTime(hours);
            document.getElementById('landscapeMinutes').textContent = formatTime(minutes);
            document.getElementById('landscapeSeconds').textContent = formatTime(seconds);
        }
        
        // å¼€å§‹æœ€å10ç§’å€’è®¡æ—¶
        function startFinalCountdown() {
            finalCountdownStarted = true;
            finalScreen.style.opacity = '1';
            finalScreen.style.pointerEvents = 'auto';
            
            let finalSeconds = 10;
            finalNumber.textContent = finalSeconds;
            
            const finalInterval = setInterval(() => {
                finalSeconds--;
                
                if (finalSeconds > 0) {
                    finalNumber.textContent = finalSeconds;
                    // æ·»åŠ éœ‡åŠ¨æ•ˆæœ
                    finalNumber.style.animation = 'none';
                    setTimeout(() => {
                        finalNumber.style.animation = 'finalPulse 0.5s infinite alternate';
                    }, 10);
                } else {
                    clearInterval(finalInterval);
                    finalScreen.style.opacity = '0';
                    finalScreen.style.pointerEvents = 'none';
                }
            }, 1000);
        }
        
        // æ’­æ”¾è§†é¢‘
        function playVideo() {
            videoPlayed = true;
            
            // éšè—æ‰€æœ‰å…¶ä»–å…ƒç´ 
            portraitMode.style.display = 'none';
            landscapeMode.style.display = 'none';
            document.querySelector('.controls').style.display = 'none';
            
            // æ˜¾ç¤ºè§†é¢‘å®¹å™¨
            videoContainer.style.display = 'block';
            
            // åˆ›å»ºè§†é¢‘å…ƒç´ ï¼ˆä½¿ç”¨ç¤ºä¾‹è§†é¢‘ï¼‰
            const video = document.createElement('video');
            video.src = 'd8a6ebcb6a600efb14b4406c5b887c96.mp4';
            video.autoplay = true;
            video.controls = false;
            video.muted = false;
            
            videoContainer.innerHTML = '';
            videoContainer.appendChild(video);
            
            // è§†é¢‘ç»“æŸåçš„å¤„ç†
            video.onended = () => {
                videoContainer.style.display = 'none';
                showThanksScreen();
            };
        }
        
        // æ˜¾ç¤ºè°¢è°¢è§‚çœ‹
        function showThanksScreen() {
            thanksScreen.style.display = 'flex';
            
            setTimeout(() => {
                thanksScreen.style.display = 'none';
                showBlessings();
            }, 3000);
        }
        
        // æ˜¾ç¤ºç¥ç¦è¯­
        function showBlessings() {
            blessingsScreen.style.display = 'flex';
            let currentBlessing = 0;
            
            function showNextBlessing() {
                if (currentBlessing < blessings.length) {
                    blessingText.textContent = blessings[currentBlessing];
                    blessingText.style.animation = 'none';
                    
                    setTimeout(() => {
                        blessingText.style.animation = 'blessingFade 3s forwards';
                    }, 10);
                    
                    currentBlessing++;
                    
                    setTimeout(showNextBlessing, 3000);
                } else {
                    // æ‰€æœ‰ç¥ç¦è¯­æ˜¾ç¤ºå®Œæ¯•ï¼Œé‡æ–°å¼€å§‹å€’è®¡æ—¶
                    blessingsScreen.style.display = 'none';
                    resetToCountdown();
                }
            }
            
            showNextBlessing();
        }
        
        // é‡ç½®ä¸ºå€’è®¡æ—¶ç•Œé¢
        function resetToCountdown() {
            portraitMode.style.display = 'flex';
            document.querySelector('.controls').style.display = 'flex';
            finalCountdownStarted = false;
            videoPlayed = false;
            
            // é‡æ–°è®¾ç½®ç›®æ ‡æ—¶é—´ä¸ºä¸‹ä¸€å¹´çš„æ–°å¹´
            targetDate = new Date('2026-12-31T23:59:59');
            startCountdown();
        }
        
        // æ˜¾ç¤ºæ–°å¹´
        function showNewYear() {
            if (isLandscape) {
                landscapeTime.innerHTML = '<span style="color:#ff3366;font-size:64px;">2026</span>';
                document.querySelector('.landscape-right .status-info').textContent = 'æ–°å¹´å¿«ä¹ï¼';
            } else {
                mainTime.innerHTML = '<span style="color:#ff3366;font-size:72px;">2026</span>';
                document.getElementById('statusInfo').textContent = 'æ–°å¹´å¿«ä¹ï¼';
            }
        }
        
        // æ’­æ”¾èƒŒæ™¯éŸ³ä¹
        function playBackgroundMusic() {
            backgroundMusic.volume = 0.3;
            backgroundMusic.play().catch(e => {
                console.log('è‡ªåŠ¨æ’­æ”¾è¢«é˜»æ­¢ï¼Œç­‰å¾…ç”¨æˆ·äº¤äº’');
            });
        }
        
        // è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
        function setupEventListeners() {
            // åˆ‡æ¢è§†å›¾æŒ‰é’®
            document.getElementById('toggleView').addEventListener('click', () => {
                isSimpleView = !isSimpleView;
                document.body.classList.toggle('simple-view', isSimpleView);
                
                // æ›´æ–°æŒ‰é’®æ–‡æœ¬
                document.getElementById('toggleView').textContent = 
                    isSimpleView ? 'è¿”å›å®Œæ•´è§†å›¾' : 'åˆ‡æ¢è§†å›¾';
            });
            
            // åˆ‡æ¢æ¨ªç«–å±æŒ‰é’®
            document.getElementById('toggleOrientation').addEventListener('click', () => {
                isLandscape = !isLandscape;
                
                if (isLandscape) {
                    portraitMode.style.display = 'none';
                    landscapeMode.style.display = 'flex';
                } else {
                    portraitMode.style.display = 'flex';
                    landscapeMode.style.display = 'none';
                }
            });
            
            // éŸ³ä¹æ§åˆ¶
            musicToggle.addEventListener('click', () => {
                isMusicPlaying = !isMusicPlaying;
                
                if (isMusicPlaying) {
                    backgroundMusic.play();
                    musicToggle.textContent = 'â™ª';
                    musicToggle.style.background = 'rgba(255, 255, 255, 0.2)';
                } else {
                    backgroundMusic.pause();
                    musicToggle.textContent = 'ğŸ”‡';
                    musicToggle.style.background = 'rgba(255, 0, 0, 0.2)';
                }
            });
            
            // ç‚¹å‡»å±å¹•ä»»æ„ä½ç½®æ’­æ”¾éŸ³ä¹ï¼ˆè§£å†³è‡ªåŠ¨æ’­æ”¾é™åˆ¶ï¼‰
            document.addEventListener('click', () => {
                if (backgroundMusic.paused && isMusicPlaying) {
                    backgroundMusic.play();
                }
            });
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
